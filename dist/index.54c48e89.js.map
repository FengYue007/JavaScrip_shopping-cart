{"mappings":"YAAA,MAAAA,EACEC,aAAAA,GAAcC,EAAAA,MAAIC,EAAAA,MAAOC,EAAAA,SAAOC,EAAW,IACzCC,KAAKJ,GAAKA,EACVI,KAAKH,MAAQA,EACbG,KAAKF,MAAQA,EACbE,KAAKD,SAAWA,EAGlBE,oBACSD,KAAKF,MAAQE,KAAKD,SAG3BG,YACEF,KAAKD,UAAY,SCLfI,EAAAA,ICRN,MACER,cACEK,KAAKI,MAAAA,GAGPC,QACEL,KAAKI,MAAAA,GAGPE,IAAIC,SACIC,EAAYR,KAAKI,MAAMK,MAAKC,GAAKA,EAAEd,IAAMW,EAAKX,KAEhDY,EAEFA,EAAUN,YAEVF,KAAKI,MAAMO,KAAKJ,GAIpBK,aAAahB,GACXI,KAAKI,MAAMS,QAAQN,GAASA,EAAKX,IAAMA,IAGzCK,oBACSa,KAAKC,MAGT,IAHef,KAAKI,MAAMY,QAC3B,CAACC,EAAOC,IAAgBD,EAAQC,EAAYjB,cAC5C,IACQ,MDlBRkB,EAAW,WACTC,EAAuBjB,EEVXC,MAAMiB,KAAId,sBAElBA,EAAKV,8EACgDU,EAAKR,+BACzDQ,EAAKT,0BACLS,EAAKN,iDACWM,EAAKX,gHAIpB0B,KAAK,IFCjBC,SAASC,cAAc,eAAeC,UAAYL,EAElDG,SAASG,iBAAiB,oBAAoBC,SAAQC,IACpDA,EAAIC,iBAAiB,SAAUC,IAC7B3B,EAAKS,aAAakB,EAAEC,cAAcC,QAAQ,IAC1Cb,UAIJI,SAASC,cAAc,sBAAsBS,YAAc,IAAM9B,EAAKF,cAGlEiC,EAAYN,IAChBA,EAAIC,iBAAiB,SAAUC,UACvBK,EAAOL,EAAEC,cAAcK,cAAcA,cACrCvC,EAAQsC,EAAKX,cAAc,eAAeS,YAC1CnC,EAAQuC,WAAWF,EAAKX,cAAc,UACdS,YACAK,QAAQ,IAAK,KACrC1C,EAAKuC,EAAKH,QAAQ,UAElBzB,EAAAA,IAAAA,EAAAA,CAAsBX,GAAAA,EAAIC,MAAAA,EAAOC,MAAAA,IACvCK,EAAKG,IAAIC,GAETY,QAIJI,SAASM,iBAAiB,oBAAoB,KAC5BN,SAASG,iBAAiB,cAClCC,QAAQO,GAEhBX,SAASC,cAAc,eAAeK,iBAAiB,SAAS,KAC9D1B,EAAKE,QACLc,OAGFA","sources":["./src/scripts/cart-item.js","./src/scripts/main.js","./src/scripts/cart.js","./src/scripts/ui.js"],"sourcesContent":["class CartItem {\n  constructor({ id, title, price, quantity = 1 }) {\n    this.id = id\n    this.title = title\n    this.price = price\n    this.quantity = quantity\n  }\n\n  totalPrice() {\n    return this.price * this.quantity\n  }\n\n  increment() {\n    this.quantity += 1\n  }\n}\n\nexport default CartItem\n","import 'bootstrap/dist/css/bootstrap.css'\nimport '@fortawesome/fontawesome-free/css/all.css'\n// 實作寫在這裡！\n\nimport Cart from './cart'\nimport CartItem from './cart-item'\nimport { buildItemList } from './ui'\n\nconst cart = new Cart()\n\nconst renderUI = () => {\n  const result = buildItemList(cart)\n  document.querySelector('.cart tbody').innerHTML = result\n\n  document.querySelectorAll('.remove-item-btn').forEach(btn => {\n    btn.addEventListener('click', (e) => {\n      cart.removeItemId(e.currentTarget.dataset['id'])\n      renderUI()\n    })\n  })\n\n  document.querySelector('.cart .total-price').textContent = '$' + cart.totalPrice()\n}\n\nconst addToCart = btn => {\n  btn.addEventListener('click', (e) => {\n    const card = e.currentTarget.parentElement.parentElement\n    const title = card.querySelector('.card-title').textContent\n    const price = parseFloat(card.querySelector('.price')\n                                 .textContent\n                                 .replace('$', ''))\n    const id = card.dataset['productId']\n    // 加到購物車\n    const item = new CartItem({ id, title, price })\n    cart.add(item)\n\n    renderUI()\n  })\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const buttons = document.querySelectorAll('.card .btn')\n  buttons.forEach(addToCart)\n\n  document.querySelector('.empty-cart').addEventListener('click', () => {\n    cart.empty()\n    renderUI()\n  })\n\n  renderUI()\n})\n\n\n\n\n\n\n// import 'bootstrap/dist/css/bootstrap.css'\n// import '@fortawesome/fontawesome-free/css/all.css'\n// import ''\n// // 實作寫在這裡！\n\n// import Cart from './cart'\n// // import Cart, { A } from './cart'\n// import CartItem from './cart-item'\n\n// const cart = new Cart()\n// // console.log(A);\n\n// // const cartItems = [\n//   // {title: '...', quantity: 1, price: 10},\n//   // {title: '...', quantity: 2, price: 20}\n// // ]\n\n// const addToCard = btn => {\n//   btn.addEventListener('click', (e) => {\n//     const card = e.currentTarget.parentElement.parentElement\n//     const title = card.querySelector('.card-title').textContent\n//     const price = parseFloat(card.querySelector('.price')\n//                                  .textContent\n//                                  .replace('$',''))\n//     // console.log(title)\n//     // console.log(price)\n//     const id = card.dataset['productId']\n//     // 加到購物車\n//     const item = new CartItem({ id, title, price })\n//     // console.log(item)\n//     cart.add(item)\n//     // const item = new CartItem({ \n//     //   title: title,\n//     //   price: price\n//     // })\n//     // console.log(item)\n\n//     const result = buildItemList(cart);\n//     document.querySelector('.cart tobdy').innerHTML = result\n//   })\n// }\n\n// document.addEventListener(\"DOMContentLoaded\", ()=> {\n//   const buttons = document.querySelectorAll('.card .btn')\n//   // buttons.forEach(btn => addToCard(btn) )\n//   buttons.forEach(addToCard)\n// })\n\n\n","class Cart {\n  constructor() {\n    this.items = []\n  }\n\n  empty() {\n    this.items = []\n  }\n\n  add(item) {\n    const foundItem = this.items.find(t => t.id == item.id)\n\n    if (foundItem) {\n      // 增加數量\n      foundItem.increment()\n    } else {\n      this.items.push(item)\n    }\n  }\n\n  removeItemId(id) {\n    this.items.filter((item) => item.id != id) // filter 篩選條件(過濾) 成立才會留下來 filter 會回傳一個新的陣列。\n  }\n\n  totalPrice() {\n    return Math.round(this.items.reduce(\n      (total, currentItem) => total + currentItem.totalPrice(),\n      0\n    )* 100) / 100\n\n    // let total = 0\n\n    // this.items.forEach(item => {\n    //   total += item.totalPrice()\n    // })\n\n    // return total\n  }\n}\n\nexport default Cart\n\n\n","const buildItemList = (cart) => {\n  const list = cart.items.map(item => {\n    return `<tr>\n      <td>${item.title}</td>\n      <td><input type=\"number\" min=\"1\" class=\"quantity\" value=\"${item.quantity}\"></td>\n      <td>$${item.price}</td>\n      <td>$${item.totalPrice()}</td>\n      <td><button data-id=\"${item.id}\" class=\"remove-item-btn btn btn-danger btn-sm\"><i class=\"fas fa-trash-alt\"></i></button></td>\n    </tr>`\n  })\n\n  return list.join('')\n}\n\nexport { buildItemList }\n"],"names":["$238a6100a311a8b48ed7384353f11927$export$default","constructor","id","title","price","quantity","this","totalPrice","increment","$916d551bfdc5e957d72b90ab6a036f78$var$cart","items","empty","add","item","foundItem","find","t","push","removeItemId","filter","Math","round","reduce","total","currentItem","$916d551bfdc5e957d72b90ab6a036f78$var$renderUI","result","map","join","document","querySelector","innerHTML","querySelectorAll","forEach","btn","addEventListener","e","currentTarget","dataset","textContent","$916d551bfdc5e957d72b90ab6a036f78$var$addToCart","card","parentElement","parseFloat","replace"],"version":3,"file":"index.54c48e89.js.map"}